{"ast":null,"code":"'use strict';\n\nvar hasOwnProperty = require('../../util/properties').hasOwn;\n\nvar util = require('util');\n/**\n * Enumeration of argument indexes.\n *\n * Anywhere that an argument index is used, one of these or a direct integer\n * value can be used. These are just named constants to improve readability.\n *\n * Each of these values is also exposed directly on the DatastoreShim class as\n * static members.\n *\n * @readonly\n * @memberof Shim.prototype\n * @enum {number}\n */\n\n\nvar ARG_INDEXES = {\n  FIRST: 0,\n  SECOND: 1,\n  THIRD: 2,\n  FOURTH: 3,\n  LAST: -1\n};\nexports.ARG_INDEXES = ARG_INDEXES;\nexports.cast = cast;\nexports.MiddlewareSpec = MiddlewareSpec;\nexports.RecorderSpec = RecorderSpec;\nexports.SegmentSpec = SegmentSpec;\nexports.WrapSpec = WrapSpec;\n\nfunction cast(Class, spec) {\n  return spec instanceof Class ? spec : new Class(spec);\n}\n\nfunction WrapSpec(spec) {\n  this.wrapper = typeof spec === 'function' ? spec : spec.wrapper;\n  this.matchArity = hasOwnProperty(spec, 'matchArity') ? spec.matchArity : false;\n}\n\nfunction SegmentSpec(spec) {\n  this.name = hasOwnProperty(spec, 'name') ? spec.name : null;\n  this.recorder = hasOwnProperty(spec, 'recorder') ? spec.recorder : null;\n  this.inContext = hasOwnProperty(spec, 'inContext') ? spec.inContext : null;\n  this.parent = hasOwnProperty(spec, 'parent') ? spec.parent : null;\n  this.parameters = hasOwnProperty(spec, 'parameters') ? spec.parameters : null;\n  this.internal = hasOwnProperty(spec, 'internal') ? spec.internal : false;\n  this.opaque = hasOwnProperty(spec, 'opaque') ? spec.opaque : false;\n}\n\nfunction RecorderSpec(spec) {\n  SegmentSpec.call(this, spec);\n  this.stream = hasOwnProperty(spec, 'stream') ? spec.stream : null;\n  this.promise = hasOwnProperty(spec, 'promise') ? spec.promise : null;\n  this.callback = hasOwnProperty(spec, 'callback') ? spec.callback : null;\n  this.rowCallback = hasOwnProperty(spec, 'rowCallback') ? spec.rowCallback : null;\n  this.after = hasOwnProperty(spec, 'after') ? spec.after : null;\n  this.callbackRequired = hasOwnProperty(spec, 'callbackRequired') ? spec.callbackRequired : null;\n}\n\nutil.inherits(RecorderSpec, SegmentSpec);\n\nfunction MiddlewareSpec(spec) {\n  RecorderSpec.call(this, spec);\n  this.req = hasOwnProperty(spec, 'req') ? spec.req : ARG_INDEXES.FIRST;\n  this.res = hasOwnProperty(spec, 'res') ? spec.res : ARG_INDEXES.SECOND;\n  this.next = hasOwnProperty(spec, 'next') ? spec.next : ARG_INDEXES.THIRD;\n  this.type = hasOwnProperty(spec, 'type') ? spec.type : 'MIDDLEWARE';\n  this.route = hasOwnProperty(spec, 'route') ? spec.route : null;\n  this.params = hasOwnProperty(spec, 'params') ? spec.params : _defaultGetParams;\n  this.appendPath = hasOwnProperty(spec, 'appendPath') ? spec.appendPath : true;\n}\n\nutil.inherits(MiddlewareSpec, RecorderSpec);\n\nfunction _defaultGetParams(shim, fn, name, args, req) {\n  return req && req.params;\n}","map":{"version":3,"sources":["/Users/adamsarli/Coding/my-portfolio/node_modules/newrelic/lib/shim/specs/index.js"],"names":["hasOwnProperty","require","hasOwn","util","ARG_INDEXES","FIRST","SECOND","THIRD","FOURTH","LAST","exports","cast","MiddlewareSpec","RecorderSpec","SegmentSpec","WrapSpec","Class","spec","wrapper","matchArity","name","recorder","inContext","parent","parameters","internal","opaque","call","stream","promise","callback","rowCallback","after","callbackRequired","inherits","req","res","next","type","route","params","_defaultGetParams","appendPath","shim","fn","args"],"mappings":"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","sourcesContent":["'use strict'\n\nvar hasOwnProperty = require('../../util/properties').hasOwn\nvar util = require('util')\n\n/**\n * Enumeration of argument indexes.\n *\n * Anywhere that an argument index is used, one of these or a direct integer\n * value can be used. These are just named constants to improve readability.\n *\n * Each of these values is also exposed directly on the DatastoreShim class as\n * static members.\n *\n * @readonly\n * @memberof Shim.prototype\n * @enum {number}\n */\nvar ARG_INDEXES = {\n  FIRST: 0,\n  SECOND: 1,\n  THIRD: 2,\n  FOURTH: 3,\n  LAST: -1\n}\n\nexports.ARG_INDEXES = ARG_INDEXES\n\nexports.cast = cast\n\nexports.MiddlewareSpec = MiddlewareSpec\nexports.RecorderSpec = RecorderSpec\nexports.SegmentSpec = SegmentSpec\nexports.WrapSpec = WrapSpec\n\nfunction cast(Class, spec) {\n  return spec instanceof Class ? spec : new Class(spec)\n}\n\nfunction WrapSpec(spec) {\n  this.wrapper = typeof spec === 'function' ? spec : spec.wrapper\n  this.matchArity = hasOwnProperty(spec, 'matchArity') ? spec.matchArity : false\n}\n\nfunction SegmentSpec(spec) {\n  this.name       = hasOwnProperty(spec, 'name') ? spec.name : null\n  this.recorder   = hasOwnProperty(spec, 'recorder') ? spec.recorder : null\n  this.inContext  = hasOwnProperty(spec, 'inContext') ? spec.inContext : null\n  this.parent     = hasOwnProperty(spec, 'parent') ? spec.parent : null\n  this.parameters = hasOwnProperty(spec, 'parameters') ? spec.parameters : null\n  this.internal   = hasOwnProperty(spec, 'internal') ? spec.internal : false\n  this.opaque     = hasOwnProperty(spec, 'opaque') ? spec.opaque : false\n}\n\nfunction RecorderSpec(spec) {\n  SegmentSpec.call(this, spec)\n  this.stream           = hasOwnProperty(spec, 'stream') ? spec.stream : null\n  this.promise          = hasOwnProperty(spec, 'promise') ? spec.promise : null\n  this.callback         = hasOwnProperty(spec, 'callback') ? spec.callback : null\n  this.rowCallback      = hasOwnProperty(spec, 'rowCallback') ? spec.rowCallback : null\n  this.after            = hasOwnProperty(spec, 'after') ? spec.after : null\n  this.callbackRequired =\n    hasOwnProperty(spec, 'callbackRequired') ? spec.callbackRequired : null\n}\nutil.inherits(RecorderSpec, SegmentSpec)\n\nfunction MiddlewareSpec(spec) {\n  RecorderSpec.call(this, spec)\n  this.req        = hasOwnProperty(spec, 'req' ) ? spec.req : ARG_INDEXES.FIRST\n  this.res        = hasOwnProperty(spec, 'res' ) ? spec.res : ARG_INDEXES.SECOND\n  this.next       = hasOwnProperty(spec, 'next' ) ? spec.next : ARG_INDEXES.THIRD\n  this.type       = hasOwnProperty(spec, 'type' ) ? spec.type : 'MIDDLEWARE'\n  this.route      = hasOwnProperty(spec, 'route' ) ? spec.route : null\n  this.params     = hasOwnProperty(spec, 'params') ? spec.params : _defaultGetParams\n  this.appendPath = hasOwnProperty(spec, 'appendPath') ? spec.appendPath : true\n}\nutil.inherits(MiddlewareSpec, RecorderSpec)\n\nfunction _defaultGetParams(shim, fn, name, args, req) {\n  return req && req.params\n}\n"]},"metadata":{},"sourceType":"script"}