{"ast":null,"code":"'use strict';\n/**\n * This class captures data needed to construct a web transaction from\n * a API Gateway Lambda proxy request. This is to be used with the setWebRequest\n * method.\n */\n\nclass LambdaProxyWebRequest {\n  constructor(event) {\n    this.headers = event.headers;\n    this.url = {\n      'path': event.path,\n      'port': event.headers['X-Forwarded-Port'],\n      'requestParameters': event.queryStringParameters\n    };\n    this.method = event.httpMethod;\n    this.transportType = event.headers['X-Forwarded-Proto'];\n  }\n\n}\n/**\n * This class captures data necessary to create a web transaction from the lambda's web\n * response to API Gateway when used with API Gateway Lambda proxy. This is to be used\n * with the setWebResponse method.\n */\n\n\nclass LambdaProxyWebResponse {\n  constructor(lambdaResponse) {\n    this.headers = lambdaResponse.headers;\n    this.statusCode = lambdaResponse.statusCode;\n  }\n\n}\n/**\n * Determines if Lambda event appears to be a valid Lambda Proxy event.\n *\n * @param {Object} event The event to inspect.\n *\n * @returns {boolean} Whether the given object contains fields necessary\n *                    to create a web transaction.\n */\n\n\nfunction isLambdaProxyEvent(event) {\n  return !!(event.path && event.headers && event.httpMethod);\n}\n/**\n * Determines if Lambda event appears to be a valid Lambda Proxy response.\n *\n * @param {Object} event The response to inspect.\n *\n * @returns {boolean} Whether the given object contains fields necessary\n *                    to create a web transaction.\n */\n\n\nfunction isValidLambdaProxyResponse(response) {\n  return !!(response && response.statusCode);\n}\n\nmodule.exports = {\n  LambdaProxyWebRequest,\n  LambdaProxyWebResponse,\n  isLambdaProxyEvent,\n  isValidLambdaProxyResponse\n};","map":{"version":3,"sources":["/Users/adamsarli/Coding/my-portfolio/node_modules/newrelic/lib/serverless/api-gateway.js"],"names":["LambdaProxyWebRequest","constructor","event","headers","url","path","queryStringParameters","method","httpMethod","transportType","LambdaProxyWebResponse","lambdaResponse","statusCode","isLambdaProxyEvent","isValidLambdaProxyResponse","response","module","exports"],"mappings":"AAAA;AAEA;;;;;;AAKA,MAAMA,qBAAN,CAA4B;AAC1BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,SAAKC,OAAL,GAAeD,KAAK,CAACC,OAArB;AACA,SAAKC,GAAL,GAAW;AACT,cAAQF,KAAK,CAACG,IADL;AAET,cAAQH,KAAK,CAACC,OAAN,CAAc,kBAAd,CAFC;AAGT,2BAAqBD,KAAK,CAACI;AAHlB,KAAX;AAKA,SAAKC,MAAL,GAAcL,KAAK,CAACM,UAApB;AACA,SAAKC,aAAL,GAAqBP,KAAK,CAACC,OAAN,CAAc,mBAAd,CAArB;AACD;;AAVyB;AAa5B;;;;;;;AAKA,MAAMO,sBAAN,CAA6B;AAC3BT,EAAAA,WAAW,CAACU,cAAD,EAAiB;AAC1B,SAAKR,OAAL,GAAeQ,cAAc,CAACR,OAA9B;AACA,SAAKS,UAAL,GAAkBD,cAAc,CAACC,UAAjC;AACD;;AAJ0B;AAO7B;;;;;;;;;;AAQA,SAASC,kBAAT,CAA4BX,KAA5B,EAAmC;AACjC,SAAO,CAAC,EAAEA,KAAK,CAACG,IAAN,IAAcH,KAAK,CAACC,OAApB,IAA+BD,KAAK,CAACM,UAAvC,CAAR;AACD;AAED;;;;;;;;;;AAQA,SAASM,0BAAT,CAAoCC,QAApC,EAA8C;AAC5C,SAAO,CAAC,EAAEA,QAAQ,IAAIA,QAAQ,CAACH,UAAvB,CAAR;AACD;;AAEDI,MAAM,CAACC,OAAP,GAAiB;AACfjB,EAAAA,qBADe;AAEfU,EAAAA,sBAFe;AAGfG,EAAAA,kBAHe;AAIfC,EAAAA;AAJe,CAAjB","sourcesContent":["'use strict'\n\n/**\n * This class captures data needed to construct a web transaction from\n * a API Gateway Lambda proxy request. This is to be used with the setWebRequest\n * method.\n */\nclass LambdaProxyWebRequest {\n  constructor(event) {\n    this.headers = event.headers\n    this.url = {\n      'path': event.path,\n      'port': event.headers['X-Forwarded-Port'],\n      'requestParameters': event.queryStringParameters\n    }\n    this.method = event.httpMethod\n    this.transportType = event.headers['X-Forwarded-Proto']\n  }\n}\n\n/**\n * This class captures data necessary to create a web transaction from the lambda's web\n * response to API Gateway when used with API Gateway Lambda proxy. This is to be used\n * with the setWebResponse method.\n */\nclass LambdaProxyWebResponse {\n  constructor(lambdaResponse) {\n    this.headers = lambdaResponse.headers\n    this.statusCode = lambdaResponse.statusCode\n  }\n}\n\n/**\n * Determines if Lambda event appears to be a valid Lambda Proxy event.\n *\n * @param {Object} event The event to inspect.\n *\n * @returns {boolean} Whether the given object contains fields necessary\n *                    to create a web transaction.\n */\nfunction isLambdaProxyEvent(event) {\n  return !!(event.path && event.headers && event.httpMethod)\n}\n\n/**\n * Determines if Lambda event appears to be a valid Lambda Proxy response.\n *\n * @param {Object} event The response to inspect.\n *\n * @returns {boolean} Whether the given object contains fields necessary\n *                    to create a web transaction.\n */\nfunction isValidLambdaProxyResponse(response) {\n  return !!(response && response.statusCode)\n}\n\nmodule.exports = {\n  LambdaProxyWebRequest,\n  LambdaProxyWebResponse,\n  isLambdaProxyEvent,\n  isValidLambdaProxyResponse\n}\n"]},"metadata":{},"sourceType":"script"}