{"ast":null,"code":"'use strict';\n\nvar NAMES = require('../../metrics/names.js');\n\nfunction recordMessageTransaction(segment, scope) {\n  var tx = segment.transaction;\n\n  if (tx.type !== 'message' || tx.baseSegment !== segment) {\n    return;\n  }\n\n  var duration = segment.getDurationInMillis();\n  var exclusive = segment.getExclusiveDurationInMillis();\n  var totalTime = segment.transaction.trace.getTotalTimeDurationInMillis();\n  var tx = segment.transaction;\n\n  if (scope) {\n    tx.measure(scope, null, duration, exclusive);\n    tx.measure(NAMES.MESSAGE_TRANSACTION.TOTAL_TIME + '/' + tx.getName(), null, totalTime, exclusive);\n  }\n\n  tx.measure(NAMES.MESSAGE_TRANSACTION.RESPONSE_TIME + '/all', null, duration, exclusive);\n  tx.measure(NAMES.OTHER_TRANSACTION.RESPONSE_TIME + '/all', null, duration, exclusive);\n  tx.measure(NAMES.OTHER_TRANSACTION.TOTAL_TIME, null, totalTime, exclusive);\n}\n\nmodule.exports = recordMessageTransaction;","map":{"version":3,"sources":["/Users/adamsarli/Coding/my-portfolio/node_modules/newrelic/lib/metrics/recorders/message-transaction.js"],"names":["NAMES","require","recordMessageTransaction","segment","scope","tx","transaction","type","baseSegment","duration","getDurationInMillis","exclusive","getExclusiveDurationInMillis","totalTime","trace","getTotalTimeDurationInMillis","measure","MESSAGE_TRANSACTION","TOTAL_TIME","getName","RESPONSE_TIME","OTHER_TRANSACTION","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,wBAAD,CAAnB;;AAEA,SAASC,wBAAT,CAAkCC,OAAlC,EAA2CC,KAA3C,EAAkD;AAChD,MAAIC,EAAE,GAAGF,OAAO,CAACG,WAAjB;;AACA,MAAID,EAAE,CAACE,IAAH,KAAY,SAAZ,IAAyBF,EAAE,CAACG,WAAH,KAAmBL,OAAhD,EAAyD;AACvD;AACD;;AAED,MAAIM,QAAQ,GAAGN,OAAO,CAACO,mBAAR,EAAf;AACA,MAAIC,SAAS,GAAGR,OAAO,CAACS,4BAAR,EAAhB;AACA,MAAIC,SAAS,GAAGV,OAAO,CAACG,WAAR,CAAoBQ,KAApB,CAA0BC,4BAA1B,EAAhB;AAEA,MAAIV,EAAE,GAAGF,OAAO,CAACG,WAAjB;;AACA,MAAIF,KAAJ,EAAW;AACTC,IAAAA,EAAE,CAACW,OAAH,CAAWZ,KAAX,EAAkB,IAAlB,EAAwBK,QAAxB,EAAkCE,SAAlC;AACAN,IAAAA,EAAE,CAACW,OAAH,CACEhB,KAAK,CAACiB,mBAAN,CAA0BC,UAA1B,GAAuC,GAAvC,GAA6Cb,EAAE,CAACc,OAAH,EAD/C,EAEE,IAFF,EAGEN,SAHF,EAIEF,SAJF;AAMD;;AAEDN,EAAAA,EAAE,CAACW,OAAH,CACEhB,KAAK,CAACiB,mBAAN,CAA0BG,aAA1B,GAA0C,MAD5C,EAEE,IAFF,EAGEX,QAHF,EAIEE,SAJF;AAMAN,EAAAA,EAAE,CAACW,OAAH,CACEhB,KAAK,CAACqB,iBAAN,CAAwBD,aAAxB,GAAwC,MAD1C,EAEE,IAFF,EAGEX,QAHF,EAIEE,SAJF;AAMAN,EAAAA,EAAE,CAACW,OAAH,CAAWhB,KAAK,CAACqB,iBAAN,CAAwBH,UAAnC,EAA+C,IAA/C,EAAqDL,SAArD,EAAgEF,SAAhE;AACD;;AAEDW,MAAM,CAACC,OAAP,GAAiBrB,wBAAjB","sourcesContent":["'use strict'\n\nvar NAMES = require('../../metrics/names.js')\n\nfunction recordMessageTransaction(segment, scope) {\n  var tx = segment.transaction\n  if (tx.type !== 'message' || tx.baseSegment !== segment) {\n    return\n  }\n\n  var duration = segment.getDurationInMillis()\n  var exclusive = segment.getExclusiveDurationInMillis()\n  var totalTime = segment.transaction.trace.getTotalTimeDurationInMillis()\n\n  var tx = segment.transaction\n  if (scope) {\n    tx.measure(scope, null, duration, exclusive)\n    tx.measure(\n      NAMES.MESSAGE_TRANSACTION.TOTAL_TIME + '/' + tx.getName(),\n      null,\n      totalTime,\n      exclusive\n    )\n  }\n\n  tx.measure(\n    NAMES.MESSAGE_TRANSACTION.RESPONSE_TIME + '/all',\n    null,\n    duration,\n    exclusive\n  )\n  tx.measure(\n    NAMES.OTHER_TRANSACTION.RESPONSE_TIME + '/all',\n    null,\n    duration,\n    exclusive\n  )\n  tx.measure(NAMES.OTHER_TRANSACTION.TOTAL_TIME, null, totalTime, exclusive)\n}\n\nmodule.exports = recordMessageTransaction\n"]},"metadata":{},"sourceType":"script"}